<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schema Validator - Public Demo</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        .demo-banner {
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Demo Banner -->
    <div class="demo-banner text-white py-2 px-4 text-center text-sm font-medium">
        <i class="fas fa-flask mr-2"></i>
        <span>Public Demo - This is a demonstration of the Schema Validator tool</span>
        <i class="fas fa-flask ml-2"></i>
    </div>

    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-shield-alt text-2xl"></i>
                    <h1 class="text-2xl font-bold">Schema Validator Dashboard</h1>
                    <span class="bg-white bg-opacity-20 text-xs px-2 py-1 rounded">DEMO</span>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="status-indicator" class="flex items-center space-x-2">
                        <div class="w-3 h-3 bg-green-400 rounded-full pulse-animation"></div>
                        <span class="text-sm">Ready</span>
                    </span>
                </div>
            </div>
        </div>
    </header>

    <div class="container mx-auto px-6 py-8">
        <!-- Demo Info Card -->
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8">
            <div class="flex items-start space-x-3">
                <i class="fas fa-info-circle text-blue-500 mt-1"></i>
                <div>
                    <h3 class="font-semibold text-blue-800 mb-2">About This Demo</h3>
                    <p class="text-blue-700 text-sm mb-2">
                        This is a public demonstration of the Schema Validator tool. You can explore the interface and see how it works with Swagger/OpenAPI endpoints.
                    </p>
                    <p class="text-blue-600 text-xs">
                        <strong>Note:</strong> This demo connects to a backend API. Some features may be limited or disabled for demonstration purposes.
                    </p>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="mb-8 flex flex-wrap gap-4">
            <button id="validateBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition duration-200 flex items-center space-x-2">
                <i class="fas fa-check-circle"></i>
                <span>Validate Schemas</span>
            </button>
            <button id="updateBtn" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition duration-200 flex items-center space-x-2">
                <i class="fas fa-sync-alt"></i>
                <span>Update Snapshots</span>
            </button>
            <button id="cleanupBtn" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition duration-200 flex items-center space-x-2">
                <i class="fas fa-broom"></i>
                <span>Clean Up Schemas</span>
            </button>
            <button id="exportBtn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold transition duration-200 flex items-center space-x-2">
                <i class="fas fa-download"></i>
                <span>Export Config</span>
            </button>
            <button id="importBtn" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold transition duration-200 flex items-center space-x-2">
                <i class="fas fa-upload"></i>
                <span>Import Config</span>
            </button>
        </div>

        <!-- Add Endpoint Form -->
        <div class="bg-white rounded-lg card-shadow p-6 mb-8">
            <h2 class="text-xl font-bold mb-4 text-gray-800 flex items-center space-x-2">
                <i class="fas fa-plus-circle text-blue-600"></i>
                <span>Add New Swagger Endpoint</span>
            </h2>
            <form id="addEndpointForm" class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Endpoint Name</label>
                    <input type="text" id="endpointName" placeholder="e.g., petstore-v2" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Swagger URL</label>
                    <input type="url" id="endpointUrl" placeholder="https://petstore.swagger.io/v2/swagger.json" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Schema Path</label>
                    <input type="text" id="schemaPath" placeholder="e.g., petstore" 
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                </div>
                <div class="md:col-span-3">
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md font-semibold transition duration-200 flex items-center space-x-2">
                        <i class="fas fa-plus"></i>
                        <span>Add Endpoint</span>
                    </button>
                </div>
            </form>
        </div>

        <!-- Endpoints List -->
        <div class="bg-white rounded-lg card-shadow p-6">
            <h2 class="text-xl font-bold mb-4 text-gray-800 flex items-center space-x-2">
                <i class="fas fa-list text-green-600"></i>
                <span>Configured Endpoints</span>
                <span id="endpointCount" class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-medium">0</span>
            </h2>
            <div id="endpointsList" class="space-y-4">
                <!-- Endpoints will be dynamically loaded here -->
            </div>
        </div>

        <!-- Console Output -->
        <div class="bg-gray-900 rounded-lg card-shadow p-6 mt-8">
            <h2 class="text-xl font-bold mb-4 text-white flex items-center space-x-2">
                <i class="fas fa-terminal text-green-400"></i>
                <span>Console Output</span>
                <button id="clearConsole" class="ml-auto text-gray-400 hover:text-white text-sm">
                    <i class="fas fa-trash"></i> Clear
                </button>
            </h2>
            <div id="console" class="bg-black text-green-400 p-4 rounded-md h-64 overflow-y-auto font-mono text-sm">
                <div class="flex items-center space-x-2">
                    <span class="text-blue-400">$</span>
                    <span>Schema Validator Demo ready...</span>
                </div>
            </div>
        </div>

        <!-- Demo Features Info -->
        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 mt-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2">
                <i class="fas fa-star text-yellow-500"></i>
                <span>Features Demonstrated</span>
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="flex items-start space-x-3">
                    <i class="fas fa-plus-circle text-blue-500 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-gray-800">Add Endpoints</h4>
                        <p class="text-sm text-gray-600">Add Swagger/OpenAPI endpoints to validate</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <i class="fas fa-vial text-yellow-500 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-gray-800">Test Connectivity</h4>
                        <p class="text-sm text-gray-600">Verify endpoints are accessible</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <i class="fas fa-check-circle text-green-500 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-gray-800">Schema Validation</h4>
                        <p class="text-sm text-gray-600">Validate API responses against schemas</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <i class="fas fa-sync-alt text-blue-500 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-gray-800">Update Snapshots</h4>
                        <p class="text-sm text-gray-600">Update schema snapshots when needed</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <i class="fas fa-download text-purple-500 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-gray-800">Export/Import</h4>
                        <p class="text-sm text-gray-600">Save and load endpoint configurations</p>
                    </div>
                </div>
                <div class="flex items-start space-x-3">
                    <i class="fas fa-broom text-red-500 mt-1"></i>
                    <div>
                        <h4 class="font-medium text-gray-800">Schema Cleanup</h4>
                        <p class="text-sm text-gray-600">Remove orphaned schema files</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden file input for import -->
    <input type="file" id="fileInput" accept=".json" style="display: none;">

    <!-- Loading Modal -->
    <div id="loadingModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-sm mx-4">
            <div class="flex items-center space-x-3">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                <span class="text-gray-700 font-medium">Processing...</span>
            </div>
        </div>
    </div>

    <script src="./app.js"></script>
</body>
</html>
